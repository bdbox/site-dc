function init(){r=document.getElementById("calcResult"),p=document.getElementById("calcHistory")}function inputNum(e){nm?(r.value=e,nm=!1,"="==sO?p.innerHTML=e:p.innerHTML+=e):"0"==r.value?(r.value=e,p.innerHTML=e):(r.value+=e,p.innerHTML+=e),sP=p.innerHTML}function operate(e){if(sP){var n=r.value;if(nm&&"="!=sO){switch(e){case"+":case"-":p.innerHTML=sP+e;break;case"×":case"÷":p.innerHTML="("+sP+")"+e;break;default:}sO=e}else{switch(nm=!0,sO){case"+":nl+=parseFloat(n);break;case"-":nl-=parseFloat(n);break;case"×":nl*=parseFloat(n);break;case"÷":nl/=parseFloat(n);break;default:nl=parseFloat(n)}switch(e){case"+":case"-":p.innerHTML+=e;break;case"×":case"÷":"×"==sO||"÷"==sO||""==sO?p.innerHTML+=e:p.innerHTML="("+p.innerHTML+")"+e;break;case"=":break;default:}r.value=nl,sO=e}}}function inputDecimal(){var e=r.value;nm?(e="0.",p.innerHTML+="0.",nm=!1):-1==e.indexOf(".")&&(e+=".",""==p.innerHTML?p.innerHTML="0.":p.innerHTML+="."),r.value=e}function clearAll(){nl=0,sO="",r.value="0",p.innerHTML="",nm=!0}function negative(){r.value=-1*parseFloat(r.value),p.innerHTML="-("+p.innerHTML+")"}var nl=0,nm=!1,sO="",sP="",sL="",r,p;window.onload=init;