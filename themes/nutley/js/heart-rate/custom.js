var app=angular.module("app",["ui.bootstrap"]);app.controller("heartCtrl",["$scope","$rootScope",function($scope,$rootScope){$scope.age=30,$scope.isFemale=!0,$scope.intensity1=.65,$scope.intensity2=.85,$scope.restHR=67,$scope.maxHR=187,$scope.targetHR=[145,169],$scope.maxFunction="f1",$scope.targetFunction="t1",$scope.calcMax=function(e){$scope.maxHR=e},$scope.calcTarget=function(e){$scope.targetHR=e},$scope.calculate=function(){$scope.calcMax(eval($scope.maxFunction)($scope.age)),$scope.calcTarget(eval($scope.targetFunction)($scope.age))},$scope.$watch("maxHR",function(){$scope.calcTarget(eval($scope.targetFunction)($scope.age))});var f1=function(e){return 208-.7*e},f2=function(e){return 220-e},f3=function(e){return 205.08-.685*e},f4=function(e){return 206-.88*e},f5=function(e){return $scope.isFemale?190.2/(1+Math.exp(.0453*(e-107.5))):203.7/(1+Math.exp(.033*(e-104.3)))},t1=function(){var e=[];return e.push(($scope.maxHR-$scope.restHR)*$scope.intensity1+$scope.restHR),e.push(($scope.maxHR-$scope.restHR)*$scope.intensity2+$scope.restHR),e},t2=function(){for(var e=[],c=10;50>=c;c+=10){var o=[];o.push($scope.maxHR-c-5),o.push($scope.maxHR-c+5),e.push(o)}return e}}]);